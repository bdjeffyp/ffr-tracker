<!doctype html>
<html>

<head>
	<title>Final Fantasy Randomizer Tracker</title>

	<link rel="stylesheet" type="text/css" href="style.css">
	<link href="https://fonts.googleapis.com/css?family=Oswald" rel="stylesheet">

	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.4/TweenMax.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.2/utils/Draggable.min.js"></script>
	<script src="https://code.createjs.com/soundjs-0.6.1.min.js"></script>
	<script src="https://code.createjs.com/preloadjs-0.6.1.min.js"></script>

	<script src="enums.js"></script>
	<script src="logic.js"></script>
	<script src="layout.js"></script>
	<script src="trackables.js"></script>
	<script src="moment.js"></script>
	<script src="timer.js"></script>
</head>

<body>
	<div id="totalCover"></div>

	<div id="trackerBox">

		<div class="tracker" id="items">
			<div class="trackerTitle"></div>

			<div class="icon state0" id="bridge" title="Bridge" onclick="toggle.icon(this)"></div>
			<div class="icon state0" id="lute" title="Lute" onclick="toggle.icon(this)"></div>
			<div class="icon state0" id="crown" title="Crown" onclick="toggle.icon(this)"></div>
			<div class="icon state0" id="crystal" title="Crystal" onclick="toggle.icon(this)"></div>
			<div class="icon state0" id="herb" title="Herb" onclick="toggle.icon(this)"></div>

			<div class="icon state0" id="ship" title="Ship" onclick="toggle.icon(this)"></div>
			<div class="icon state0" id="key" title="Key" onclick="toggle.icon(this)"></div>
			<div class="icon state0" id="tnt" title="TNT" onclick="toggle.icon(this)"></div>
			<div class="icon state0" id="ruby" title="Ruby" onclick="toggle.icon(this)"></div>
			<div class="icon state0" id="rod" title="Rod" onclick="toggle.icon(this)"></div>

			<div class="icon state0" id="canal" title="Canal" onclick="toggle.icon(this)"></div>
			<div class="icon state0" id="floater" title="Floater" onclick="toggle.icon(this)"></div>
			<div class="icon state0" id="tail" title="Tail" onclick="toggle.icon(this)"></div>
			<div class="icon state0" id="bottle" title="Bottle" onclick="toggle.icon(this)"></div>
			<div class="icon state0" id="oxyale" title="Oxyale" onclick="toggle.icon(this)"></div>

			<div class="icon state0" id="canoe" title="Canoe" onclick="toggle.icon(this)"></div>
			<div class="icon state0" id="slab" title="Slab" onclick="toggle.icon(this)"></div>
			<div class="icon state0" id="chime" title="Chime" onclick="toggle.icon(this)"></div>
			<div class="icon state0" id="cube" title="Cube" onclick="toggle.icon(this)"></div>
			<div class="icon state0" id="adamant" title="Adamant" onclick="toggle.icon(this)"></div>
		</div>

		<div class="tracker" id="crystals">
			<div class="trackerTitle orb"></div>

			<div class="icon state0 crystal" id="earth" title="Earth Crystal" onclick="toggle.icon(this)"></div>
			<div class="icon state0 crystal" id="fire" title="Fire Crystal" onclick="toggle.icon(this)"></div>
			<div class="icon state0 crystal" id="water" title="Water Crystal" onclick="toggle.icon(this)"></div>
			<div class="icon state0 crystal" id="air" title="Air Crystal" onclick="toggle.icon(this)"></div>
		</div>

		<div class="tracker" id="npcs">
			<div class="trackerTitle"></div>

			<!-- Main quest NPCs -->
			<div class="icon state0" id="king" title="King of Coneria" onclick="toggle.npc(this)"></div>
			<div class="icon state0" id="sara" title="Princess Sara" onclick="toggle.npc(this)"></div>
			<div class="icon state0" id="bikke" title="Bikke the Pirate" onclick="toggle.npc(this)"></div>
			<div class="icon state0" id="sarda" title="Sarda" onclick="toggle.npc(this)"></div>
			<div class="icon state0" id="sages" title="Circle of Sages" onclick="toggle.npc(this)"></div>
			<div class="icon state0" id="robot" title="Waterfall Robot" onclick="toggle.npc(this)"></div>

			<!-- Fetch quest NPCs -->
			<div class="icon state0" id="astos" title="Astos" onclick="toggle.npc(this)"></div>
			<div class="icon state0" id="matoya" title="Matoya" onclick="toggle.npc(this)"></div>
			<div class="icon state0" id="elf" title="Elf Prince" onclick="toggle.npc(this)"></div>
			<div class="icon state0" id="nerrick" title="Nerrick" onclick="toggle.npc(this)"></div>
			<div class="icon state0" id="smyth" title="Smyth" onclick="toggle.npc(this)"></div>
			<div class="icon state0" id="lufeinian" title="Lufeinian" onclick="toggle.npc(this)"></div>

			<!-- Quest item shopkeeper and fairy -->
			<div class="icon state0" id="shopkeeper" title="Shopkeeper" onclick="toggle.npc(this)"></div>
			<div class="icon state0" id="fairy" title="Fairy" onclick="toggle.npc(this)"></div>
		</div>

		<div class="tracker" id="timer" onclick="toggleTimer()">
			<div class="trackerTitle"></div>
			<div id="timerWrap">
				<div class="timerDigit" id="digit1">
					<span class="digits">0
						<br/>1
						<br/>2
						<br/>3
						<br/>4
						<br/>5
						<br/>6
						<br/>7
						<br/>8
						<br/>9
						<br/>0</span>
				</div>

				<div class="colon" id="colon7" style="left:50px">:</div>

				<div class="timerDigit" id="digit2">
					<span class="digits">0
						<br/>1
						<br/>2
						<br/>3
						<br/>4
						<br/>5
						<br/>6
						<br/>7
						<br/>8
						<br/>9
						<br/>0</span>
				</div>

				<div class="timerDigit" id="digit3">
					<span class="digits">0
						<br/>1
						<br/>2
						<br/>3
						<br/>4
						<br/>5
						<br/>6
						<br/>7
						<br/>8
						<br/>9
						<br/>0</span>
				</div>

				<div class="colon" id="colon5" style="left:150px">:</div>

				<div class="timerDigit" id="digit4">
					<span class="digits">0
						<br/>1
						<br/>2
						<br/>3
						<br/>4
						<br/>5
						<br/>0</span>
				</div>

				<div class="timerDigit" id="digit5">
					<span class="digits">0
						<br/>1
						<br/>2
						<br/>3
						<br/>4
						<br/>5
						<br/>6
						<br/>7
						<br/>8
						<br/>9
						<br/>0</span>
				</div>

				<div class="colon" style="left:250px;top:-4px">.</div>

				<div class="timerDigit" id="digit6">
					<span class="digits">0
						<br/>1
						<br/>2
						<br/>3
						<br/>4
						<br/>5
						<br/>0</span>
				</div>

				<div class="timerDigit" id="digit7">
					<span class="digits">0
						<br/>1
						<br/>2
						<br/>3
						<br/>4
						<br/>5
						<br/>6
						<br/>7
						<br/>8
						<br/>9
						<br/>0</span>
				</div>
			</div>
		</div>


	</div>
	</div>

	<!-- <div id="mapBox">
		<div class="map" id="mapLW"></div>
		<div class="map" id="mapDW"></div>
	</div> -->

	<div id="settingsTab">
		<div id="tabIcon" title="Toggle Settings Menu" onclick="settings.toggle()">&#9776;</div>
		<div id="tabIcon" title="Pop out tracker" style="left:40px" onclick="popout()">&#8663;</div>
		<div id="caption"></div>

		<div class="selection" style="top:40px; left:50px;">
			<b>&nbsp;GOAL</b>
			<br/>
			<input title="No Variation (Light crystals, get key/lute)" class="radio regMode" type="radio" name="goal" value="0" onclick="settings.apply(true)" checked>
			<span class="radio regMode"> Regular</span>
			<br/>
			<input title="Shard Hunt (Find a required number of crystal shards)" class="radio shardHunt" type="radio" name="goal" value="1" onclick="settings.apply(true)" disabled>
			<span class="radio shardHunt"> Shard Hunt</span>
			<br/>
			<input title="Chaos Rush (Have lute, key not required in ToFR)" class="radio chaosRush" type="radio" name="goal" value="2" onclick="settings.apply(true)" disabled>
			<span class="radio chaosRush"> Chaos Rush</span>
			<br />
			<input title="Free ORBs (Have all crystals/ORBs lit at the start)" class="checkbox freeOrbs" type="checkbox" name="freeOrbs" value="0" onclick="settings.apply(true)" disabled>
			<span class="checkbox freeOrbs"> Free ORBs</span>
		</div>

		<div class="selection" style="top:40px; left:170px;">
			<b>&nbsp;LAYOUT</b>
			<br />
			<input title="A Square-ish Layout" class="radio Square" type="radio" name="layout" value="0" onclick="settings.apply(false)"
			 checked>
			<span class="radio Square"> Square</span>
			<br/>
			-- More soon
			<!-- <br/>
			<input title="Dungeon Icons Arranged by Location" class="radio Geo" type="radio" name="layout" value="1" onclick="settings.apply(false)">
			<span class="radio Geo"> Geographic</span>
			<br/>
			<input title="A Tall, Narrow Layout" class="radio Tall" type="radio" name="layout" value="2" onclick="settings.apply(false)">
			<span class="radio Tall"> Tall</span>
			<br/>
			<input title="A Short, Wide Layout" class="radio Wide" type="radio" name="layout" value="3" onclick="settings.apply(false)">
			<span class="radio Wide"> Wide</span>
			<br/>
			<input title="A condensed layout" class="radio AIO" type="radio" name="layout" value="4" onclick="settings.apply(false)">
			<span class="radio AIO"> All-in-One</span> -->
		</div>

		<div class="selection" style="top:40px; left:290px">
			<b>&nbsp;BORDERS</b>
			<br/>
			<input title="No Border (most compact)" class="radio noBorder" type="radio" name="border" value="0" onclick="settings.apply(false)">
			<span class="radio noBorder"> Off</span>
			<br/>
			<input title="Thin Border" class="radio thinBorder" type="radio" name="border" value="1" onclick="settings.apply(false)">
			<span class="radio thinBorder"> Thin</span>
			<br/>
			<input title="Thick Border" class="radio thickBorder" type="radio" name="border" value="2" onclick="settings.apply(false)" checked>
			<span class="radio thickBorder"> Thick</span>
			<br/>
		</div>

		<div class="selection" style="top:170px; left:290px">
			<b>&nbsp;TIMER</b>
				<br/>
				<input title="No Timer" class="radio timerOff" type="radio" name="timerMode" value="0" onclick="settings.apply(false)">
				<span class="radio timerOff"> Off</span>
				<br/>
				<input title="Timer On (click to start/pause, right-click to reset)" class="radio timerOn" type="radio" name="timerMode"
				 value="1" onclick="settings.apply(false)" checked>
				<span class="radio timerOn"> On</span>
				<br/>
		</div>


		<div class="selection" style="top:170px; left:50px">
			<b>&nbsp;STATE</b>
			<br/>
			-- Coming soon
			<!-- <input title="Standard Mode" class="radio icon0" type="radio" name="openMode" value="0" onclick="settings.apply(false)" checked>
			<span class="radio icon0"> Standard</span>
			<br/>
			<input title="Open Mode" class="radio icon1" type="radio" name="openMode" value="1" onclick="settings.apply(false)">
			<span class="radio icon1"> Open</span> -->
		</div>

		<div class="selection" style="top:170px; left:170px">
			<b>&nbsp;ICONS</b>
			<br/>
			<input title="Use Crystal Icons" class="radio icon0" type="radio" name="iconSet" value="0" onclick="settings.apply(false)">
			<span class="radio icon0"> Crystals</span>
			<br/>
			<input title="Use ORB Icons" class="radio icon1" type="radio" name="iconSet" value="1" onclick="settings.apply(false)"
			 checked>
			<span class="radio icon1"> ORBs</span>
		</div>

		<!-- <div class="selection" style="top:170px; left:290px">
			<b>&nbsp;DUNGEONS</b>
			<br/>
			<input title="Boss Head Icons (click ? to change prize, click head to mark complete)" class="radio dungeonDispHeads" type="radio"
			 name="dungeonDisp" value="0" onclick="settings.apply(false)" checked>
			<span class="radio dungeonDispHeads"> Boss Heads</span>
			<br/>
			<input title="Prize Icons (click ? to change prize, click initials to mark complete)" class="radio dungeonDispPrizes" type="radio"
			 name="dungeonDisp" value="1" onclick="settings.apply(false)">
			<span class="radio dungeonDispPrizes"> Prizes</span>
		</div> -->

		<div class="selection" style="top:40px; left:410px">
			<b>&nbsp;MAPS</b>
			<br/>
			-- Coming soon
			<!-- <input title="No Map" class="radio mapOff" type="radio" name="mapAlign" value="0" onclick="settings.apply(false)" checked>
			<span class="radio mapOff"> Off</span>
			<br/>
			<input title="Vertical Maps" class="radio mapV" type="radio" name="mapAlign" value="1" onclick="settings.apply(false)">
			<span class="radio mapV"> Vertical</span>
			<br/>
			<input title="Horizontal Maps" class="radio mapH" type="radio" name="mapAlign" value="2" onclick="settings.apply(false)">
			<span class="radio mapH"> Horizontal</span> -->
		</div>

	</div>

	<script>
		$(window).load(function () {
			// layout.sizeMap($("input[name='mapAlign']:checked").val()); //arranges the maps to best fit on screen
			// map.populate();											//adds dungeons and chest icons to the maps
			settings.applyCookie();									//applies saved user settings, or defaults if no cookie found
		});

		$(window).resize(function () {
			// layout.sizeMap($("input[name='mapAlign']:checked").val());  //re-arranges the maps if window size changes
		});

		// Update settings window captions on mouse hover over icons
		$(".icon, #tabIcon, input").hover(
			function () {
				// hover on
				$(this).attr("tooltip-data", $(this).attr("title"));
				$(this).removeAttr("title");
				$("#caption").html($(this).attr("tooltip-data"));
			}, function () {
				// hover off
				$(this).attr("title", $(this).attr("tooltip-data"));
				$(this).removeAttr("tooltip-data");
				$("#caption").html("");
			}
		);

		// Change Astos to his dark elf form on hover
		$("#astos").hover(
			function () {
				// hover on
				if ($(this).hasClass("state0")) {
					$(this).removeClass("state0").addClass("stateEvil0");
				} else if ($(this).hasClass("state1")) {
					$(this).removeClass("state1").addClass("stateEvil1");
				}
			}, function () {
				// hover off
				if ($(this).hasClass("stateEvil0")) {
					$(this).removeClass("stateEvil0").addClass("state0");
				} else if ($(this).hasClass("stateEvil1")) {
					$(this).removeClass("stateEvil1").addClass("state1");
				}
			}
		)

		// No tristate icons currently so don't need. Possible issue with NPCs being icon class but don't exist within items object...
		// $('.icon').mousedown(function (event) {					//adds listener for right-click on icons
		// 	if (event.which == 3) {
		// 		toggle.icon(this, true);
		// 	};
		// });

		// Add a listener for right clicks on the timer
		$('#timer').mousedown(function (event) {
			if (event.which == 3) {
				resetTimer();
			};
		});


	</script>

</body>

</html>